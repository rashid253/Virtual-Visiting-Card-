<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modern One-Page Shopping App</title>
  <meta name="theme-color" content="#1E88E5" />
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
  <!-- Icons (optional) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

  <!-- Modern CSS Styling -->
  <style>
    :root {
      --primary-color: #1E88E5;
      --secondary-color: #1565C0;
      --light-bg: #f0f2f5;
      --text-color: #333;
      --card-bg: #fff;
      --border-radius: 8px;
      --transition-speed: 0.3s;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Roboto', sans-serif;
      background: var(--light-bg);
      color: var(--text-color);
      scroll-behavior: smooth;
      line-height: 1.6;
    }
    a { text-decoration: none; color: inherit; }
    /* Fixed Navigation Bar */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: var(--primary-color);
      z-index: 1000;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    nav {
      display: flex;
      justify-content: center;
      padding: 10px;
    }
    nav a {
      color: #fff;
      margin: 0 10px;
      padding: 8px 12px;
      border-radius: 4px;
      transition: background var(--transition-speed);
    }
    nav a:hover, nav a.active {
      background: var(--secondary-color);
    }
    /* Section container */
    section {
      padding: 80px 20px 40px; /* Top padding accounts for fixed header */
      max-width: 1200px;
      margin: 0 auto;
    }
    /* Section Titles */
    section h2 {
      text-align: center;
      margin-bottom: 20px;
      color: var(--primary-color);
    }
    /* Container for cards */
    .card-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }
    /* Card Style */
    .card {
      background: var(--card-bg);
      padding: 15px;
      border-radius: var(--border-radius);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      gap: 10px;
      transition: transform var(--transition-speed);
    }
    .card:hover { transform: translateY(-4px); }
    .card img {
      width: 100%;
      max-height: 200px;
      object-fit: cover;
      border-radius: var(--border-radius);
      /* Using lazy loading for bandwidth efficiency */
    }
    .card h3 { margin-bottom: 5px; color: var(--primary-color); }
    .card p { font-size: 0.95rem; }
    .card button {
      padding: 10px;
      border: none;
      border-radius: 4px;
      background: var(--primary-color);
      color: #fff;
      cursor: pointer;
      transition: background var(--transition-speed);
    }
    .card button:hover { background: var(--secondary-color); }
    /* Forms styling */
    form {
      max-width: 500px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    form input, form textarea, form select {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
      width: 100%;
    }
    form button {
      padding: 12px;
      background: var(--primary-color);
      border: none;
      border-radius: 4px;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      transition: background var(--transition-speed);
    }
    form button:hover { background: var(--secondary-color); }
    /* Chat Box */
    #chatBox {
      border: 1px solid #ccc;
      padding: 10px;
      height: 250px;
      overflow-y: auto;
      background: #fff;
      border-radius: 4px;
    }
    #chatBox p {
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 4px;
    }
    #chatBox p.user { background: #e3f2fd; text-align: right; }
    #chatBox p.support { background: #f1f8e9; text-align: left; }
    /* Footer */
    footer {
      text-align: center;
      padding: 15px;
      background: var(--primary-color);
      color: #fff;
      margin-top: 40px;
    }
    /* Responsive adjustments */
    @media (max-width: 600px) {
      nav { flex-direction: column; }
      nav a { margin: 5px 0; }
    }
  </style>
</head>
<body>
  <!-- Fixed Navigation -->
  <header>
    <nav>
      <a href="#home" class="nav-link active">Home</a>
      <a href="#catalog" class="nav-link">Products</a>
      <a href="#cart" class="nav-link">Cart</a>
      <a href="#order" class="nav-link">Order</a>
      <a href="#loyalty" class="nav-link">Loyalty</a>
      <a href="#feedback" class="nav-link">Feedback</a>
      <a href="#offers" class="nav-link">Offers</a>
      <a href="#voice" class="nav-link">Voice</a>
      <a href="#support" class="nav-link">Support</a>
      <a href="#gamification" class="nav-link">Gamification</a>
      <a href="#profile" class="nav-link">Profile</a>
      <a href="#inventory" class="nav-link">Inventory</a>
      <a href="#userinfo" class="nav-link">User Info</a>
      <a href="#website" class="nav-link">New Website</a>
    </nav>
  </header>

  <!-- Home Section -->
  <section id="home">
    <h2>Welcome</h2>
    <p style="text-align: center;">
      Our platform connects clients with high-quality products, competitive prices, and eye-catching images—all optimized for fast loading and a modern experience.
    </p>
  </section>

  <!-- Product Catalog Section -->
  <section id="catalog">
    <h2>Our Products</h2>
    <div class="card-container">
      <!-- Sample product card (repeat for multiple products) -->
      <div class="card">
        <img src="https://via.placeholder.com/400x300" alt="Product 1" loading="lazy">
        <h3>Product 1</h3>
        <p>Price: $20</p>
        <p>High-quality, bandwidth‑optimized image. (Recommended size: 400x300px)</p>
        <button onclick="addToCart('Product 1',20)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://via.placeholder.com/400x300" alt="Product 2" loading="lazy">
        <h3>Product 2</h3>
        <p>Price: $35</p>
        <p>Optimized image using lazy loading for faster page load.</p>
        <button onclick="addToCart('Product 2',35)">Add to Cart</button>
      </div>
      <!-- More products can be dynamically added via Firebase -->
    </div>
  </section>

  <!-- Shopping Cart Section -->
  <section id="cart">
    <h2>Your Cart</h2>
    <div id="cartItems">
      <!-- Cart items will be dynamically inserted here -->
      <p style="text-align:center;">Your cart is empty.</p>
    </div>
    <p style="text-align:center;">Total: $<span id="totalPrice">0</span></p>
  </section>

  <!-- Order Placement Section -->
  <section id="order">
    <h2>Place Your Order</h2>
    <form id="orderForm">
      <input type="text" id="address" placeholder="Delivery Address" required>
      <select id="payment" required>
        <option value="">Select Payment Option</option>
        <option value="cod">Cash on Delivery</option>
        <option value="online">Online Payment</option>
      </select>
      <button type="submit">Confirm Order</button>
    </form>
  </section>

  <!-- Loyalty Program Section -->
  <section id="loyalty">
    <h2>Loyalty Program</h2>
    <p style="text-align:center;">Scan the QR code (simulation) to collect loyalty points.</p>
    <p style="text-align:center;">Your Points: <span id="loyaltyPoints">0</span></p>
  </section>

  <!-- Feedback & Reviews Section -->
  <section id="feedback">
    <h2>Feedback & Reviews</h2>
    <form id="feedbackForm">
      <textarea id="feedbackText" placeholder="Share your thoughts..." required></textarea>
      <button type="submit">Submit Feedback</button>
    </form>
    <div id="allFeedback">
      <!-- Previous feedback loaded dynamically -->
    </div>
  </section>

  <!-- Special Offers Section -->
  <section id="offers">
    <h2>Special Offers</h2>
    <div class="card">
      <h3>Limited Time Offer</h3>
      <p>Enjoy 20% off on select products!</p>
    </div>
  </section>

  <!-- Voice Search Section -->
  <section id="voice">
    <h2>Voice Search</h2>
    <p style="text-align:center;">Use your voice to search for products.</p>
    <div style="text-align:center;">
      <button onclick="startVoiceSearch()">Start Voice Search</button>
      <p id="voiceResult"></p>
    </div>
  </section>

  <!-- Customer Support Chat Section -->
  <section id="support">
    <h2>Customer Support</h2>
    <div id="chatBox"></div>
    <input type="text" id="chatInput" placeholder="Type your message">
    <button onclick="sendMessage()">Send</button>
  </section>

  <!-- Gamification Section -->
  <section id="gamification">
    <h2>Gamification</h2>
    <p style="text-align:center;">Join our challenges and earn rewards!</p>
    <div style="text-align:center;">
      <button onclick="startChallenge()">Start Challenge</button>
    </div>
  </section>

  <!-- User Profile Section -->
  <section id="profile">
    <h2>Your Profile</h2>
    <div id="profileInfo" style="text-align:center;">
      <p>Please register via the User Info section to view your profile details.</p>
    </div>
  </section>

  <!-- Inventory Management Section (Vendor) -->
  <section id="inventory">
    <h2>Inventory Management</h2>
    <form id="inventoryForm">
      <input type="text" id="productName" placeholder="Product Name" required>
      <input type="number" id="productPrice" placeholder="Product Price" required>
      <textarea id="productDetails" placeholder="Product Details" required></textarea>
      <button type="submit">Save Product</button>
    </form>
    <div id="inventoryList">
      <h3>Your Products</h3>
      <!-- Products loaded dynamically from Firebase -->
    </div>
  </section>

  <!-- User Information Section -->
  <section id="userinfo">
    <h2>User Registration & Info</h2>
    <form id="userInfoForm">
      <input type="text" id="userName" placeholder="Full Name" required>
      <input type="email" id="userEmail" placeholder="Email" required>
      <input type="tel" id="userPhone" placeholder="Phone Number" required>
      <textarea id="userAddress" placeholder="Address" required></textarea>
      <button type="submit">Submit Information</button>
    </form>
  </section>

  <!-- New Website Submission Section -->
  <section id="website">
    <h2>New Website Submission</h2>
    <form id="websiteForm">
      <input type="text" id="siteName" placeholder="Website Name" required>
      <input type="url" id="siteURL" placeholder="Website URL" required>
      <textarea id="siteDescription" placeholder="Describe the Website" required></textarea>
      <input type="text" id="clientName" placeholder="Client/Owner Name" required>
      <input type="email" id="clientEmail" placeholder="Client Email" required>
      <button type="submit">Submit Website Info</button>
    </form>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Modern Shopping App</p>
  </footer>

  <!-- Firebase & Application Scripts -->
  <!-- Firebase SDK (use compat versions for simplicity) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

  <!-- Application JavaScript -->
  <script>
    /*********************************************
     * Firebase Initialization – Update with your config
     *********************************************/
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    /*********************************************
     * Shopping Cart Functions
     *********************************************/
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    function addToCart(name, price) {
      cart.push({ name, price });
      localStorage.setItem('cart', JSON.stringify(cart));
      alert(name + " added to cart.");
      updateCartDisplay();
    }
    function updateCartDisplay() {
      const cartDiv = document.getElementById('cartItems');
      if (cartDiv) {
        cartDiv.innerHTML = "";
        let total = 0;
        cart.forEach((item, i) => {
          total += item.price;
          cartDiv.innerHTML += `<p>${item.name} - $${item.price} <button onclick="removeFromCart(${i})">Remove</button></p>`;
        });
        document.getElementById('totalPrice').innerText = total;
      }
    }
    function removeFromCart(index) {
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
    }
    document.addEventListener('DOMContentLoaded', updateCartDisplay);

    /*********************************************
     * Order Form Submission
     *********************************************/
    const orderForm = document.getElementById('orderForm');
    if (orderForm) {
      orderForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const address = document.getElementById('address').value;
        const payment = document.getElementById('payment').value;
        db.collection("orders").add({
          address,
          payment,
          cart,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        }).then(() => {
          alert("Order placed successfully!");
          localStorage.removeItem('cart');
          cart = [];
          updateCartDisplay();
          orderForm.reset();
        }).catch(err => console.error("Order Error:", err));
      });
    }

    /*********************************************
     * Feedback Form Submission
     *********************************************/
    const feedbackForm = document.getElementById('feedbackForm');
    if (feedbackForm) {
      feedbackForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const feedbackText = document.getElementById('feedbackText').value;
        db.collection("feedback").add({
          text: feedbackText,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        }).then(() => {
          alert("Feedback submitted. Thank you!");
          feedbackForm.reset();
        }).catch(err => console.error("Feedback Error:", err));
      });
    }

    /*********************************************
     * Inventory Form Submission (Vendor)
     *********************************************/
    const inventoryForm = document.getElementById('inventoryForm');
    if (inventoryForm) {
      inventoryForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('productName').value;
        const price = parseFloat(document.getElementById('productPrice').value);
        const details = document.getElementById('productDetails').value;
        db.collection("products").add({
          name, price, details,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        }).then(() => {
          alert("Product saved successfully!");
          inventoryForm.reset();
          // Optionally reload inventory list
        }).catch(err => console.error("Inventory Error:", err));
      });
    }

    /*********************************************
     * User Information Submission
     *********************************************/
    const userInfoForm = document.getElementById('userInfoForm');
    if (userInfoForm) {
      userInfoForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('userName').value;
        const email = document.getElementById('userEmail').value;
        const phone = document.getElementById('userPhone').value;
        const address = document.getElementById('userAddress').value;
        db.collection("users").doc(email).set({
          name, email, phone, address,
          updatedAt: firebase.firestore.FieldValue.serverTimestamp()
        }).then(() => {
          alert("User information saved!");
          userInfoForm.reset();
        }).catch(err => console.error("User Info Error:", err));
      });
    }

    /*********************************************
     * New Website Submission Form
     *********************************************/
    const websiteForm = document.getElementById('websiteForm');
    if (websiteForm) {
      websiteForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const siteName = document.getElementById('siteName').value;
        const siteURL = document.getElementById('siteURL').value;
        const siteDescription = document.getElementById('siteDescription').value;
        const clientName = document.getElementById('clientName').value;
        const clientEmail = document.getElementById('clientEmail').value;
        db.collection("websites").add({
          siteName, siteURL, siteDescription, clientName, clientEmail,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        }).then(() => {
          alert("Website info submitted successfully!");
          websiteForm.reset();
        }).catch(err => console.error("Website Error:", err));
      });
    }

    /*********************************************
     * Voice Search Functionality
     *********************************************/
    function startVoiceSearch() {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        alert("Voice search is not supported on your device.");
        return;
      }
      const recognition = new SpeechRecognition();
      recognition.lang = "en-US";
      recognition.start();
      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById('voiceResult').innerText = "You said: " + transcript;
      };
      recognition.onerror = function(event) {
        console.error("Voice Search Error:", event.error);
      };
    }

    /*********************************************
     * Customer Support Chat Simulation
     *********************************************/
    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      if (!message) return;
      const chatBox = document.getElementById('chatBox');
      const userMsg = document.createElement('p');
      userMsg.className = "user";
      userMsg.textContent = "You: " + message;
      chatBox.appendChild(userMsg);
      input.value = "";
      // Simulate a support reply
      setTimeout(() => {
        const supportMsg = document.createElement('p');
        supportMsg.className = "support";
        supportMsg.textContent = "Support: Thank you for reaching out!";
        chatBox.appendChild(supportMsg);
        chatBox.scrollTop = chatBox.scrollHeight;
      }, 1000);
    }

    /*********************************************
     * Gamification Challenge (Demo)
     *********************************************/
    function startChallenge() {
      alert("Challenge started! Extend this feature with dynamic tasks and rewards.");
    }
  </script>
</body>
</html>
